<!DOCTYPE html>
<html>
<head>
    <title>Leaflet Map with Search</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <style>
        #map { width: 800px; height: 600px; margin: 20px auto; }
        body { font: 16px/1.4 "Helvetica Neue", Arial, sans-serif; }
    </style>
</head>
<body>
<div id="root"></div>
<div id="map"></div>

<script>
    // Initialize the map
    var map = L.map('map').setView([51.505, -0.09], 5);

    // Add OpenStreetMap tiles
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors',
    }).addTo(map);

    // Add heatmap layer
    var addressPoints = [
        [51.505, -0.09, 0.5],
        [51.515, -0.1, 0.8],
        [51.525, -0.08, 0.6],
        [51.535, -0.11, 0.7],
        [51.545, -0.13, 0.9]
    ];

    var heat = L.heatLayer(addressPoints, {
        radius: 25,
        blur: 15,
        maxZoom: 17,
        gradient: {
            0.4: 'blue',
            0.6: 'lime',
            0.8: 'red'
        }
    }).addTo(map);

    // Add a search control
    var geocoder = L.Control.geocoder({
        defaultMarkGeocode: false // Prevent automatic marker addition
    })
        .on('markgeocode', function (e) {
            var latlng = e.geocode.center; // Get the center of the result
            var radius = 5000; // Radius in meters

            // Add a circular marker
            L.circle(latlng, {
                color: 'red',
                fillColor: '#f03',
                fillOpacity: 0.5,
                radius: radius // Set radius in meters
            }).addTo(map);

            // Center and zoom the map to the circle
            // map.setView(latln  
        })
        .addTo(map);
</script>
</body>
</html>
